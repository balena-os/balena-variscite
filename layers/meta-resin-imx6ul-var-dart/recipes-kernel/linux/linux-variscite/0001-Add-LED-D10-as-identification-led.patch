From 4927d96a3d1775235d91646460236f8d04f0467f Mon Sep 17 00:00:00 2001
From: Alexandru Costache <alexandru@balena.io>
Date: Thu, 4 Apr 2019 08:05:05 +0200
Subject: [PATCH] imx7d-var-som.dtsi: Add LED D10 as identification led

Upstream-Status: Inappropriate [configuration]
Signed-off-by: Alexandru Costache <alexandru@resin.io>
---
 arch/arm/boot/dts/imx7d-var-som.dtsi | 19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)

diff --git a/arch/arm/boot/dts/imx7d-var-som.dtsi b/arch/arm/boot/dts/imx7d-var-som.dtsi
index 3f7be49..dc485a6 100644
--- a/arch/arm/boot/dts/imx7d-var-som.dtsi
+++ b/arch/arm/boot/dts/imx7d-var-som.dtsi
@@ -96,6 +96,18 @@
 		};
 	};
 
+        leds {
+                compatible = "gpio-leds";
+                pinctrl-names = "default";
+                pinctrl-0 = <&pinctrl_led_1>;
+
+                led1 {
+                        label = "led1";
+                        gpios = <&gpio1 13 GPIO_ACTIVE_HIGH>;
+                };
+        };
+
+
 	regulators {
 		compatible = "simple-bus";
 		#address-cells = <1>;
@@ -505,11 +517,16 @@
 				MX7D_PAD_UART2_TX_DATA__GPIO4_IO3	0x59  /* ethphy1 reset */
 				MX7D_PAD_GPIO1_IO10__GPIO1_IO10		0x59  /* hsic hub reset */
 				MX7D_PAD_GPIO1_IO12__GPIO1_IO12		0x59  /* hsic hub connect */
-				MX7D_PAD_GPIO1_IO13__GPIO1_IO13		0x59  /* LED */
 				MX7D_PAD_SD1_WP__CCM_CLKO2		0xb0  /* camera clock */
 			>;
 		};
 
+	        pinctrl_led_1: ledgrp-1 {
+                         fsl,pins = <
+                                MX7D_PAD_GPIO1_IO13__GPIO1_IO13         0x1b0b0
+                        >;
+                };
+
 		pinctrl_gpio_keys: gpio_keysgrp {
 			fsl,pins = <
 				MX7D_PAD_EPDC_BDR0__GPIO2_IO28		0x32
-- 
2.7.4

